import{s as r}from"./supa-BrS98-L_.js";async function t(){const{data:t,error:e}=await r.from("courses").select("id, program_id, code, title, summary, cover_url").order("title");if(e)throw e;return t}async function e(t){const{data:e,error:o}=await r.from("courses").select("id, program_id, code, title, summary, cover_url").eq("program_id",t).order("title");if(o)throw o;return e}async function o(t){const{data:e,error:o}=await r.from("courses").select("id, program_id, code, title, summary, cover_url").eq("id",t).single();if(o)throw o;return e}async function s(t){const{data:e,error:o}=await r.from("lessons").select("id, course_id, idx, title, video_url, html").eq("course_id",t).order("idx",{ascending:!0});if(o)throw o;return e}async function i(t){const{data:e,error:o}=await r.from("lessons").select("id, course_id, idx, title, video_url, html").eq("id",t).single();if(o)throw o;return e}async function a(t,e){const o=(await r.auth.getUser()).data.user;if(!o)throw new Error("Not signed in");const{error:s}=await r.from("lesson_progress").upsert({user_id:o.id,lesson_id:t,percent:Math.min(100,Math.max(0,e))});if(s)throw s}export{s as a,t as b,i as c,o as g,e as l,a as u};
