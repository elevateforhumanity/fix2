import{r as e,j as t}from"./vendor-react-mXmGo1rS.js";import{b as s,L as a}from"./vendor-router-umqT_8ks.js";import{a as n,b as r}from"./auth-1fW2cf6c.js";import"./vendor-BU8AdXDg.js";import"./supa-BrS98-L_.js";import"./vendor-supabase-BOQaJsF3.js";function l(){const l=s(),[i,c]=e.useState(""),[d,o]=e.useState(""),[m,x]=e.useState(!1),[u,h]=e.useState(""),[b,p]=e.useState(!1);return b?t.jsx("section",{className:"section",children:t.jsx("div",{className:"container max-w-md mx-auto",children:t.jsxs("div",{className:"card p-6 text-center",children:[t.jsx("div",{className:"text-4xl mb-4",children:"ðŸ“§"}),t.jsx("h2",{className:"text-2xl font-semibold",children:"Check Your Email"}),t.jsxs("p",{className:"mt-2 text-brand-text-muted",children:["We sent a magic link to ",t.jsx("strong",{children:i})]}),t.jsx("p",{className:"mt-2 text-sm text-brand-text-light",children:"Click the link in the email to sign in."}),t.jsx("button",{onClick:()=>p(!1),className:"btn-outline mt-4",children:"Back to Login"})]})})}):t.jsx("section",{className:"section",children:t.jsx("div",{className:"container max-w-md mx-auto",children:t.jsxs("div",{className:"card p-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-center",children:"Welcome Back!"}),t.jsx("p",{className:"mt-2 text-center text-brand-text-muted",children:"Sign in to continue your learning journey"}),u&&t.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:u}),t.jsxs("form",{onSubmit:async function(e){e.preventDefault(),h(""),x(!0);try{await n(i,d),l("/lms")}catch(t){h(t.message)}finally{x(!1)}},className:"mt-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),t.jsx("input",{type:"email","aria-label":"email input",value:i,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-300",placeholder:"you@example.com",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),t.jsx("input",{type:"password","aria-label":"password input",value:d,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-300",placeholder:"Enter your password",required:!0})]}),t.jsx("button",{type:"submit",className:"btn w-full",disabled:m,children:m?"Signing you in...":"Sign In â†’"})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{onClick:async function(){if(i){h(""),x(!0);try{await r(i),p(!0)}catch(e){h(e.message)}finally{x(!1)}}else h("Please enter your email")},className:"text-sm text-brand-600 hover:text-brand-700",disabled:m,children:"Send magic link instead"})}),t.jsxs("div",{className:"mt-4 text-center text-sm text-brand-text-muted",children:[t.jsx(a,{to:"/auth/forgot-password",className:"hover:text-brand-600",children:"Forgot password?"})," Â· ",t.jsx(a,{to:"/auth/signup",className:"hover:text-brand-600",children:"Create account"})]})]})})})}export{l as default};
