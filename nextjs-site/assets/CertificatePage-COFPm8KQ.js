import{j as e,r as t}from"./vendor-react-mXmGo1rS.js";import{g as i}from"./certificates-C19QIs9n.js";import{u as s}from"./vendor-router-umqT_8ks.js";import"./vendor-BU8AdXDg.js";import"./supa-BrS98-L_.js";import"./vendor-supabase-BOQaJsF3.js";function n({student:t,program:i,date:s}){return e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-end justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-semibold",children:"Certificate Preview"}),e.jsx("div",{className:"text-brand-text-muted text-sm mt-1",children:"SVG download (print-ready)"})]}),e.jsx("button",{className:"btn",onClick:function(){const e=new Blob([`<svg xmlns='http://www.w3.org/2000/svg' width='1400' height='1000'>\n         <rect width='100%' height='100%' fill='white'/>\n         <rect x='40' y='40' width='1320' height='920' fill='none' stroke='#1a3588' stroke-width='8' rx='24'/>\n         <text x='700' y='200' text-anchor='middle' font-size='48' font-family='Inter' fill='#1a3588'>Certificate of Completion</text>\n         <text x='700' y='360' text-anchor='middle' font-size='30' font-family='Inter' fill='#0f172a'>This certifies that</text>\n         <text x='700' y='450' text-anchor='middle' font-size='56' font-family='Inter' font-weight='700' fill='#224dd1'>${t}</text>\n         <text x='700' y='520' text-anchor='middle' font-size='28' font-family='Inter' fill='#0f172a'>has successfully completed</text>\n         <text x='700' y='600' text-anchor='middle' font-size='40' font-family='Inter' font-weight='700' fill='#19c39c'>${i}</text>\n         <text x='700' y='700' text-anchor='middle' font-size='24' font-family='Inter' fill='#0f172a'>Date: ${s}</text>\n         <text x='220' y='820' font-size='18' font-family='Inter' fill='#0f172a'>Director</text>\n         <text x='1080' y='820' font-size='18' font-family='Inter' fill='#0f172a'>Registrar</text>\n       </svg>`],{type:"image/svg+xml"}),n=URL.createObjectURL(e),d=document.createElement("a");d.href=n,d.download=`certificate-${t.replace(/\s+/g,"-")}.svg`,d.click(),URL.revokeObjectURL(n)},children:"Download SVG"})]}),e.jsx("div",{className:"mt-6 border rounded-lg p-8 bg-white",children:e.jsxs("div",{className:"border-4 border-brand-600 rounded-2xl p-12 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-brand-600",children:"Certificate of Completion"}),e.jsx("div",{className:"mt-8 text-lg text-brand-text-muted",children:"This certifies that"}),e.jsx("div",{className:"mt-4 text-4xl font-bold text-brand-700",children:t}),e.jsx("div",{className:"mt-4 text-lg text-brand-text-muted",children:"has successfully completed"}),e.jsx("div",{className:"mt-4 text-3xl font-bold text-accent-600",children:i}),e.jsxs("div",{className:"mt-8 text-brand-text-muted",children:["Date: ",s]}),e.jsxs("div",{className:"mt-12 flex justify-between text-sm text-brand-text-muted",children:[e.jsx("div",{children:"Director"}),e.jsx("div",{children:"Registrar"})]})]})})]})}function d(){var d,r,a,l,c;const{certificateId:x}=s(),[o,m]=t.useState(null),[f,h]=t.useState(!0);if(t.useEffect(()=>{x&&i(x).then(m).finally(()=>h(!1))},[x]),f)return e.jsx("div",{className:"section",children:e.jsx("div",{className:"container",children:"Loading..."})});if(!o)return e.jsx("div",{className:"section",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"card p-6 text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-red-600",children:"Certificate Not Found"}),e.jsx("p",{className:"mt-2 text-brand-text-muted",children:"This certificate does not exist or has been revoked."})]})})});const b=new Date(o.issued_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsx("div",{className:"min-h-screen bg-brand-surface py-12",children:e.jsxs("div",{className:"container max-w-4xl",children:[e.jsx("div",{className:"mb-6 flex gap-3 justify-end print:hidden",children:e.jsx("button",{onClick:function(){window.print()},className:"btn-outline",children:"üñ®Ô∏è Print Certificate"})}),e.jsx("div",{className:"mb-6 print:hidden",children:e.jsx(n,{student:(null==(d=o.profiles)?void 0:d.full_name)||(null==(r=o.profiles)?void 0:r.email)||"Student",program:(null==(a=o.courses)?void 0:a.title)||"Course",date:b})}),e.jsx("div",{className:"bg-white border-8 border-brand-600 p-12 shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-brand-600 text-6xl font-bold mb-4",children:"Elevate for Humanity"}),e.jsx("div",{className:"text-2xl text-brand-text-muted mb-8",children:"Certificate of Completion"}),e.jsx("div",{className:"w-32 h-1 bg-brand-600 mx-auto mb-8"}),e.jsx("div",{className:"text-lg text-brand-text mb-6",children:"This certifies that"}),e.jsx("div",{className:"text-4xl font-bold text-brand-text mb-6",children:(null==(l=o.profiles)?void 0:l.email)||"Student"}),e.jsx("div",{className:"text-lg text-brand-text mb-6",children:"has successfully completed"}),e.jsx("div",{className:"text-3xl font-semibold text-brand-700 mb-8",children:null==(c=o.courses)?void 0:c.title}),e.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-8 text-sm text-brand-text-muted",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Issue Date"}),e.jsx("div",{children:b})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Certificate Number"}),e.jsx("div",{className:"font-mono",children:o.certificate_number})]})]}),e.jsxs("div",{className:"mt-12 pt-8 border-t-2 border-brand-border-dark",children:[e.jsx("div",{className:"text-sm text-brand-text-muted",children:"Authorized by Elevate for Humanity"}),e.jsx("div",{className:"mt-2 text-xs text-brand-text-light",children:"Indianapolis, IN ‚Ä¢ ETPL Provider ‚Ä¢ DOL Apprenticeship Sponsor"})]})]})}),e.jsx("div",{className:"mt-6 text-center text-sm text-brand-text-muted print:hidden",children:e.jsxs("p",{children:["Verify this certificate at:"," ",e.jsxs("span",{className:"font-mono",children:[window.location.origin,"/verify/",o.certificate_number]})]})})]})})}export{d as default};
