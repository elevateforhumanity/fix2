import{r as e,j as r}from"./vendor-react-C-ZQNdj3.js";import"./vendor-Da1LjC7-.js";function t(){const[t,o]=e.useState([]),[n,i]=e.useState(""),[s,d]=e.useState(!1),[a,l]=e.useState(null),[c,m]=e.useState("chat"),u=e.useRef(null);e.useEffect(()=>{var e;null==(e=u.current)||e.scrollIntoView({behavior:"smooth"})},[t]);const f=async()=>{if(!n.trim()||s)return;const e={role:"user",content:n,timestamp:new Date};o([...t,e]),i(""),d(!0);try{const e=await fetch("/api/ai-tutor/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n,conversationId:a,context:{courseId:"general"}})}),r=await e.json();l(r.conversationId);const t={role:"assistant",content:r.response,timestamp:new Date};o(e=>[...e,t])}catch(r){const e={role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};o(r=>[...r,e])}finally{d(!1)}};return r.jsxs("div",{style:{display:"flex",height:"100vh",backgroundColor:"#f5f1e8"},children:[r.jsxs("div",{style:{width:"250px",backgroundColor:"#fff",borderRight:"1px solid #d4c9b8",padding:"1rem"},children:[r.jsx("h2",{style:{marginBottom:"1rem",fontSize:"1.25rem"},children:"AI Tutor"}),r.jsxs("div",{style:{marginBottom:"1.5rem"},children:[r.jsx("button",{onClick:()=>m("chat"),style:{width:"100%",padding:"0.75rem",marginBottom:"0.5rem",backgroundColor:"chat"===c?"#00a544":"#fff",color:"chat"===c?"#fff":"#000",border:"1px solid #c4b5a0",borderRadius:"0.375rem",cursor:"pointer",textAlign:"left"},children:"ðŸ’¬ Chat Tutor"}),r.jsx("button",{onClick:()=>m("essay"),style:{width:"100%",padding:"0.75rem",marginBottom:"0.5rem",backgroundColor:"essay"===c?"#00a544":"#fff",color:"essay"===c?"#fff":"#000",border:"1px solid #c4b5a0",borderRadius:"0.375rem",cursor:"pointer",textAlign:"left"},children:"ðŸ“ Grade Essay"}),r.jsx("button",{onClick:()=>m("study-guide"),style:{width:"100%",padding:"0.75rem",backgroundColor:"study-guide"===c?"#00a544":"#fff",color:"study-guide"===c?"#fff":"#000",border:"1px solid #c4b5a0",borderRadius:"0.375rem",cursor:"pointer",textAlign:"left"},children:"ðŸ“š Study Guide"})]}),r.jsx("button",{onClick:()=>{o([]),l(null)},style:{width:"100%",padding:"0.75rem",backgroundColor:"#dc2626",color:"#fff",border:"none",borderRadius:"0.375rem",cursor:"pointer"},children:"ðŸ—‘ï¸ Clear Chat"})]}),r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[r.jsxs("div",{style:{backgroundColor:"#fff",borderBottom:"1px solid #d4c9b8",padding:"1rem 2rem"},children:[r.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"600"},children:"chat"===c?"ðŸ’¬ AI Tutor Chat":"essay"===c?"ðŸ“ Essay Grading":"ðŸ“š Study Guide Generator"}),r.jsx("p",{style:{color:"#6b5d52",fontSize:"0.875rem"},children:"chat"===c?"Ask me anything about your coursework":"essay"===c?"Get instant feedback on your essays":"Generate comprehensive study guides"})]}),r.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"2rem"},children:[0===t.length&&r.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",color:"#6b5d52"},children:[r.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"ðŸ¤–"}),r.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:"Welcome to AI Tutor!"}),r.jsx("p",{children:"Ask me anything and I'll help you learn."})]}),t.map((e,t)=>r.jsx("div",{style:{marginBottom:"1.5rem",display:"flex",justifyContent:"user"===e.role?"flex-end":"flex-start"},children:r.jsxs("div",{style:{maxWidth:"70%",padding:"1rem",backgroundColor:"user"===e.role?"#00a544":"#fff",color:"user"===e.role?"#fff":"#000",borderRadius:"0.75rem",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[r.jsx("div",{style:{whiteSpace:"pre-wrap"},children:e.content}),r.jsx("div",{style:{fontSize:"0.75rem",marginTop:"0.5rem",opacity:.7},children:new Date(e.timestamp).toLocaleTimeString()})]})},t)),s&&r.jsx("div",{style:{display:"flex",justifyContent:"flex-start",marginBottom:"1.5rem"},children:r.jsx("div",{style:{padding:"1rem",backgroundColor:"#fff",borderRadius:"0.75rem",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:r.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[r.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:"#00a544",borderRadius:"50%",animation:"bounce 1s infinite"}}),r.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:"#00a544",borderRadius:"50%",animation:"bounce 1s infinite 0.2s"}}),r.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:"#00a544",borderRadius:"50%",animation:"bounce 1s infinite 0.4s"}})]})})}),r.jsx("div",{ref:u})]}),r.jsx("div",{style:{backgroundColor:"#fff",borderTop:"1px solid #d4c9b8",padding:"1rem 2rem"},children:r.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[r.jsx("input",{type:"text","aria-label":"text input",value:n,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&f(),placeholder:"Ask me anything...",style:{flex:1,padding:"0.75rem",border:"1px solid #c4b5a0",borderRadius:"0.5rem",fontSize:"1rem"},disabled:s}),r.jsx("button",{onClick:f,disabled:s||!n.trim(),style:{padding:"0.75rem 2rem",backgroundColor:"#00a544",color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600",opacity:s||!n.trim()?.5:1},children:"Send"})]})})]}),r.jsx("style",{children:"\n        @keyframes bounce {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-10px); }\n        }\n      "})]})}export{t as AITutor,t as default};
