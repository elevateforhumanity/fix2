import{r as e,d as s,j as t,as as n,aa as a,at as r,au as l,ac as i,av as o,H as c,a3 as d,t as m,a4 as x,u,g as h,aw as b,N as j}from"./vendor-react-C-ZQNdj3.js";import{N as p}from"./Navigation-Bbm4Xzc1.js";import{F as v}from"./Footer-Dh9yHrAI.js";import{D as g}from"./DiscussionForum-y7lz-a_z.js";import{u as N,c as f}from"./vendor-router-CQjfSXV_.js";import"./vendor-Da1LjC7-.js";function w({videoUrl:c,onProgress:d,onComplete:m,autoPlay:x=!1}){const[u,h]=e.useState(x),[b,j]=e.useState(!1),[p,v]=e.useState(0),[g,N]=e.useState(0),[f,w]=e.useState(0),[y,k]=e.useState(!0),C=s.useRef(null);e.useEffect(()=>{const e=C.current;if(!e)return;const s=()=>{const s=e.currentTime,t=e.duration;if(w(s),N(t),t>0){const n=s/t*100;v(n),null==d||d(n),n>=90&&!e.ended&&(null==m||m())}},t=()=>{h(!1),null==m||m()};return e.addEventListener("timeupdate",s),e.addEventListener("ended",t),()=>{e.removeEventListener("timeupdate",s),e.removeEventListener("ended",t)}},[d,m]);const S=()=>{const e=C.current;e&&(u?e.pause():e.play(),h(!u))},L=e=>{if(isNaN(e))return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`};return t.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden group",onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:[t.jsx("video",{ref:C,src:c,className:"w-full aspect-video",onClick:S}),t.jsx("div",{className:"absolute bottom-16 left-0 right-0 px-4",children:t.jsx("input",{type:"range",min:"0",max:"100",value:p,onChange:e=>{const s=C.current;if(!s)return;const t=parseFloat(e.target.value)/100*g;s.currentTime=t},className:"w-full h-1 bg-white/30 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-green-600"})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 transition-opacity duration-300 "+(y?"opacity-100":"opacity-0"),children:t.jsxs("div",{className:"flex items-center justify-between text-white",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:S,className:"hover:text-green-400 transition","aria-label":u?"Pause":"Play",children:u?t.jsx(n,{className:"w-6 h-6"}):t.jsx(a,{className:"w-6 h-6"})}),t.jsx("button",{onClick:()=>{const e=C.current;e&&(e.muted=!b,j(!b))},className:"hover:text-green-400 transition","aria-label":b?"Unmute":"Mute",children:b?t.jsx(r,{className:"w-6 h-6"}):t.jsx(l,{className:"w-6 h-6"})}),t.jsxs("div",{className:"text-sm",children:[L(f)," / ",L(g)]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{className:"hover:text-green-400 transition","aria-label":"Settings",children:t.jsx(i,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>{const e=C.current;e&&(document.fullscreenElement?document.exitFullscreen():e.requestFullscreen())},className:"hover:text-green-400 transition","aria-label":"Fullscreen",children:t.jsx(o,{className:"w-5 h-5"})})]})]})}),!u&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 cursor-pointer",onClick:S,children:t.jsx("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center hover:bg-green-700 transition",children:t.jsx(a,{className:"w-10 h-10 text-white ml-1"})})})]})}function y(){const{courseId:s,lessonId:n}=N(),a=f(),[r,l]=e.useState(null),[i,o]=e.useState(0),[y,k]=e.useState(!1),[C,S]=e.useState(!0);e.useEffect(()=>{(async()=>{S(!0);const e={id:n||"1",title:"Introduction to Workforce Development",type:"video",duration:15,content:"This lesson covers the fundamentals of workforce development and career readiness.",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",completed:!1};setTimeout(()=>{l(e),S(!1)},500)})()},[s,n]);const L=()=>{k(!0),o(100),console.log("Lesson completed:",n)};return C?t.jsxs("div",{children:[t.jsx(c,{children:t.jsx("title",{children:"Loading... | Elevate for Humanity"})}),t.jsx(p,{}),t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),t.jsx("p",{className:"text-brown-600",children:"Loading lesson..."})]})}),t.jsx(v,{})]}):r?t.jsxs("div",{children:[t.jsx(c,{children:t.jsxs("title",{children:[r.title," | Elevate for Humanity"]})}),t.jsx(p,{}),t.jsx("div",{className:"bg-white border-b border-brown-200",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsx("div",{className:"h-2 bg-beige-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-green-600 transition-all duration-300",style:{width:`${i}%`}})})})}),t.jsx("div",{className:"bg-beige-50 border-b border-brown-200",children:t.jsx("div",{className:"container mx-auto px-4 py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-brown-600 mb-2",children:["video"===r.type&&t.jsx(d,{className:"w-4 h-4"}),"reading"===r.type&&t.jsx(m,{className:"w-4 h-4"}),"quiz"===r.type&&t.jsx(x,{className:"w-4 h-4"}),t.jsx("span",{className:"capitalize",children:r.type}),t.jsx("span",{children:"â€¢"}),t.jsx(u,{className:"w-4 h-4"}),t.jsxs("span",{children:[r.duration," min"]})]}),t.jsx("h1",{className:"text-3xl font-bold text-brown-900",children:r.title})]}),y&&t.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[t.jsx(h,{className:"w-6 h-6"}),t.jsx("span",{className:"font-semibold",children:"Completed"})]})]})})}),t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:["video"===r.type&&r.videoUrl&&t.jsx("div",{className:"mb-8",children:t.jsx(w,{videoUrl:r.videoUrl,onProgress:e=>o(e),onComplete:L,autoPlay:!1})}),"reading"===r.type&&t.jsx("div",{className:"prose prose-brown max-w-none mb-8",children:t.jsx("div",{className:"bg-white rounded-lg p-8 shadow-sm",children:t.jsx("p",{className:"text-brown-700 leading-relaxed",children:r.content})})}),t.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm mb-8",children:[t.jsx("h2",{className:"text-xl font-bold text-brown-900 mb-4",children:"About This Lesson"}),t.jsx("p",{className:"text-brown-700",children:r.content})]}),t.jsxs("div",{className:"flex items-center justify-between gap-4 mb-12",children:[t.jsxs("button",{onClick:()=>{parseInt(n||"1")>1&&a(`/lms/courses/${s}/lessons/${parseInt(n||"1")-1}`)},disabled:parseInt(n||"1")<=1,className:"flex items-center gap-2 px-6 py-3 bg-white text-brown-900 border border-brown-300 rounded-lg hover:bg-beige-50 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(b,{className:"w-5 h-5"}),"Previous"]}),t.jsxs("div",{className:"flex gap-4",children:[!y&&t.jsxs("button",{onClick:L,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center gap-2",children:[t.jsx(h,{className:"w-5 h-5"}),"Mark as Complete"]}),t.jsxs("button",{onClick:()=>{a(`/lms/courses/${s}/lessons/${parseInt(n||"1")+1}`)},className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:["Next",t.jsx(j,{className:"w-5 h-5"})]})]})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-brown-900 mb-6",children:"Lesson Discussion"}),t.jsx(g,{courseId:s||"",lessonId:n})]})]})}),t.jsx(v,{})]}):t.jsxs("div",{children:[t.jsx(c,{children:t.jsx("title",{children:"Lesson Not Found | Elevate for Humanity"})}),t.jsx(p,{}),t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-brown-900 mb-4",children:"Lesson Not Found"}),t.jsx("button",{onClick:()=>a(`/lms/courses/${s}`),className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"Back to Course"})]})}),t.jsx(v,{})]})}export{y as default};
