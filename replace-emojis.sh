#!/bin/bash

# Replace all emojis with Lucide React icons
echo "ðŸ”§ Replacing emojis with Lucide icons..."

# Common emoji to icon mappings
declare -A EMOJI_MAP=(
    ["ðŸŽ¯"]="Target"
    ["ðŸ“Š"]="BarChart"
    ["ðŸ’¼"]="Briefcase"
    ["ðŸŽ“"]="GraduationCap"
    ["ðŸ“"]="FileText"
    ["âœ¨"]="Sparkles"
    ["ðŸš€"]="Rocket"
    ["ðŸ’¡"]="Lightbulb"
    ["ðŸ”¥"]="Flame"
    ["âš¡"]="Zap"
    ["ðŸŒŸ"]="Star"
    ["ðŸ’ª"]="Dumbbell"
    ["ðŸŽ‰"]="PartyPopper"
    ["ðŸ†"]="Trophy"
    ["ðŸ“ˆ"]="TrendingUp"
    ["ðŸŽ¨"]="Palette"
    ["ðŸ””"]="Bell"
    ["ðŸ“±"]="Smartphone"
    ["ðŸ’»"]="Laptop"
    ["ðŸŒ"]="Globe"
    ["ðŸ”’"]="Lock"
    ["âœ…"]="CheckCircle"
    ["âŒ"]="XCircle"
    ["âš ï¸"]="AlertTriangle"
    ["ðŸ“š"]="BookOpen"
    ["ðŸŽ¬"]="Video"
    ["ðŸ“§"]="Mail"
    ["ðŸ“ž"]="Phone"
    ["ðŸ "]="Home"
    ["ðŸ‘¥"]="Users"
    ["â°"]="Clock"
    ["ðŸ“…"]="Calendar"
    ["ðŸ’°"]="DollarSign"
    ["ðŸ”"]="Search"
    ["âš™ï¸"]="Settings"
    ["ðŸ“¦"]="Package"
    ["ðŸŽ"]="Gift"
    ["ðŸŒˆ"]="Rainbow"
    ["ðŸ”—"]="Link"
    ["ðŸ“„"]="File"
    ["ðŸ–¼ï¸"]="Image"
    ["ðŸŽµ"]="Music"
    ["ðŸŽ®"]="Gamepad"
    ["ðŸƒ"]="Activity"
    ["ðŸ’¬"]="MessageCircle"
    ["ðŸ“¢"]="Megaphone"
    ["ðŸ”"]="Shield"
    ["ðŸŒ"]="Globe2"
    ["ðŸ“"]="MapPin"
    ["ðŸš—"]="Car"
    ["âœˆï¸"]="Plane"
    ["ðŸ¢"]="Building"
    ["ðŸ¥"]="Hospital"
    ["ðŸ«"]="School"
    ["ðŸ›’"]="ShoppingCart"
    ["ðŸ’³"]="CreditCard"
    ["ðŸŽ¤"]="Mic"
    ["ðŸ“·"]="Camera"
    ["ðŸ–¨ï¸"]="Printer"
    ["ðŸ“¡"]="Radio"
    ["ðŸ”‹"]="Battery"
    ["ðŸ”Œ"]="Plug"
    ["ðŸ’¾"]="Save"
    ["ðŸ“‚"]="Folder"
    ["ðŸ—‚ï¸"]="FolderOpen"
    ["ðŸ—ƒï¸"]="Archive"
    ["ðŸ—„ï¸"]="Database"
    ["ðŸ”–"]="Bookmark"
    ["ðŸ·ï¸"]="Tag"
    ["ðŸ“Œ"]="Pin"
    ["ðŸ“Ž"]="Paperclip"
    ["âœï¸"]="Edit"
    ["âœ‚ï¸"]="Scissors"
    ["ðŸ“"]="Ruler"
    ["ðŸ“"]="Ruler"
    ["ðŸ”§"]="Wrench"
    ["ðŸ”¨"]="Hammer"
    ["âš’ï¸"]="Tool"
    ["ðŸ› ï¸"]="Tool"
    ["âš–ï¸"]="Scale"
    ["ðŸ”¬"]="Microscope"
    ["ðŸ’Š"]="Pill"
    ["ðŸ’‰"]="Syringe"
    ["ðŸ©º"]="Stethoscope"
    ["ðŸ§¬"]="Dna"
    ["ðŸ§ª"]="TestTube"
    ["ðŸ§«"]="Petri"
    ["ðŸ§®"]="Calculator"
    ["ðŸ“Š"]="BarChart2"
    ["ðŸ“‰"]="TrendingDown"
    ["ðŸ“ˆ"]="TrendingUp"
    ["ðŸ’¹"]="ChartLine"
    ["ðŸ’±"]="Repeat"
    ["ðŸ’²"]="DollarSign"
    ["ðŸ’µ"]="Banknote"
    ["ðŸ’´"]="Banknote"
    ["ðŸ’¶"]="Banknote"
    ["ðŸ’·"]="Banknote"
    ["ðŸ’¸"]="Coins"
    ["ðŸª™"]="Coins"
)

# Find all TSX files with emojis
find app -name "*.tsx" -type f > /tmp/all-tsx-files.txt

# Count total files
TOTAL=$(wc -l < /tmp/all-tsx-files.txt)
echo "Scanning $TOTAL TSX files..."

# Count files with emojis
EMOJI_FILES=0
while IFS= read -r file; do
    if grep -q "[ðŸŽ¯ðŸ“ŠðŸ’¼ðŸŽ“ðŸ“âœ¨ðŸš€ðŸ’¡ðŸ”¥âš¡ðŸŒŸðŸ’ªðŸŽ‰ðŸ†ðŸ“ˆðŸŽ¨ðŸ””ðŸ“±ðŸ’»ðŸŒðŸ”’âœ…âŒâš ï¸]" "$file"; then
        ((EMOJI_FILES++))
    fi
done < /tmp/all-tsx-files.txt

echo "Found $EMOJI_FILES files with emojis"
echo ""
echo "Emoji to Icon mapping:"
for emoji in "${!EMOJI_MAP[@]}"; do
    icon="${EMOJI_MAP[$emoji]}"
    echo "  $emoji â†’ <$icon className=\"w-5 h-5\" />"
done

echo ""
echo "âœ… Ready to replace. Run with --execute flag to apply changes."
